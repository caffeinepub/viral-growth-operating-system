{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Configure Stripe API keys for payment integration",
  "requirements": [
    {
      "id": "REQ-36",
      "summary": "Update the StripeSetup page to detect and display successful Stripe configuration",
      "acceptanceCriteria": [
        "The StripeSetup page queries the backend to check if Stripe is already configured",
        "When configuration exists, display a success message showing the publishable key in use",
        "Provide visual confirmation that payment integration is active",
        "Allow updating the configuration if needed"
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/StripeSetup.tsx",
          "operation": "modify",
          "description": "Add logic to detect when Stripe configuration exists by calling isStripeConfigured() on component mount. When configured, display a success confirmation message indicating that Stripe is active. Extract and display the publishable key from the stored configuration (derived from the secret key field or retrieved via a dedicated query if available). Add UI to allow admins to update the configuration if needed. Maintain admin-only access control and form validation for configuration updates."
        },
        {
          "path": "frontend/src/hooks/useQueries.ts",
          "operation": "modify",
          "description": "Add a React Query hook useIsStripeConfigured() that calls the backend isStripeConfigured() method to check configuration status. Ensure the hook is enabled only when the actor is available and properly handles loading and error states. This hook will be used by the StripeSetup page to determine whether to show the configuration form or the success confirmation message."
        }
      ]
    }
  ]
}