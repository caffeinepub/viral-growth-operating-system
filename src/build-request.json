{
  "kind": "build_request",
  "title": "Configure Stripe API keys for payment integration",
  "projectName": "Viral Growth Operating System",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-35",
      "text": "Store the Stripe publishable key 'pk_test_51SqMs35XIYyFCA6UuZ8GXNAzRZsqbfQp5BF04WIUWga5yUnsQENDd9uMjCN4qf2JxULjQfTkueFMVnyIBQB6GtFo00JaLPSbs1' and secret key 'sk_test_51SqMs35XIYyFCA6UWJR2oA59uinQ364YwSTGN0nD9K6Fuv5skkELENbTdpqlxeKb9m91nHaZf8DgIN2JMpofVpoh004N8ftZJN' in the backend Stripe configuration using the existing setStripeConfig function",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "pk_test_51SqMs35XIYyFCA6UuZ8GXNAzRZsqbfQp5BF04WIUWga5yUnsQENDd9uMjCN4qf2JxULjQfTkueFMVnyIBQB6GtFo00JaLPSbs1.         sk_test_51SqMs35XIYyFCA6UWJR2oA59uinQ364YwSTGN0nD9K6Fuv5skkELENbTdpqlxeKb9m91nHaZf8DgIN2JMpofVpoh004N8ftZJN"
        ]
      },
      "acceptanceCriteria": [
        "The backend stores the publishable key 'pk_test_51SqMs35XIYyFCA6UuZ8GXNAzRZsqbfQp5BF04WIUWga5yUnsQENDd9uMjCN4qf2JxULjQfTkueFMVnyIBQB6GtFo00JaLPSbs1' in stripeConfig",
        "The backend stores the secret key 'sk_test_51SqMs35XIYyFCA6UWJR2oA59uinQ364YwSTGN0nD9K6Fuv5skkELENbTdpqlxeKb9m91nHaZf8DgIN2JMpofVpoh004N8ftZJN' in stripeConfig",
        "The getStripePublishableKey function returns the stored publishable key when called",
        "The Stripe checkout and customer portal functions can use the stored secret key for API calls"
      ]
    },
    {
      "id": "REQ-36",
      "text": "Update the frontend StripeSetup page to automatically detect when Stripe configuration has been successfully stored and display a confirmation message with the configured publishable key",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ]
      },
      "acceptanceCriteria": [
        "The StripeSetup page queries the backend to check if Stripe is already configured",
        "When configuration exists, display a success message showing the publishable key in use",
        "Provide visual confirmation that payment integration is active",
        "Allow updating the configuration if needed"
      ]
    }
  ],
  "constraints": [
    "Use the existing setStripeConfig backend function without modifying the Stripe configuration data structure",
    "Do not store Stripe keys in frontend code or expose the secret key in any frontend API responses",
    "Maintain single-actor architecture in backend/main.mo"
  ],
  "nonGoals": [
    "Creating new Stripe configuration endpoints or data models",
    "Modifying the existing Stripe checkout or webhook handling logic",
    "Adding webhook signing secret (not provided in user message)"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}