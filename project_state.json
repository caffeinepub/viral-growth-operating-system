{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Project with animations, interactive elements, and engaging sections. Planning to add Internet Identity integration for customer accounts and preference saving.",
  "architectural_notes": [],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-integrate-internet-identity-login-logout-into-the-landing-page-and-app-navigation-so-that-unauthenticated-visitors-can-log-in-via-internet-identity-and-authenticated-users-can-log-out-use-the-existing-useinternetidentity-hook-and-the-layout-component-s-header-for-placement",
      "title": "Integrate Internet Identity login/logout into the landing page and app navigation so that unauthenticated visitors can log in via Internet Identity and authenticated users can log out. Use the existing `useInternetIdentity` hook and the `Layout` component's header for placement.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-on-first-login-present-the-profilesetupmodal-to-collect-the-user-s-name-and-email-and-save-it-to-the-backend-via-usesavecalleruserprofile-subsequent-logins-should-skip-the-modal-if-a-profile-already-exists",
      "title": "On first login, present the `ProfileSetupModal` to collect the user's name and email and save it to the backend via `useSaveCallerUserProfile`. Subsequent logins should skip the modal if a profile already exists.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-after-login-redirect-users-to-the-dashboard-page-where-they-can-view-their-subscription-tier-content-request-history-and-manage-their-account-the-hero-section-cta-should-direct-authenticated-users-to-generate-and-unauthenticated-users-to-pricing-as-already-wired-in-herosection-tsx",
      "title": "After login, redirect users to the Dashboard page where they can view their subscription tier, content request history, and manage their account. The hero section CTA should direct authenticated users to /generate and unauthenticated users to /pricing, as already wired in `HeroSection.tsx`.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Connect Internet Identity so customers can create accounts and save their preferences",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Ensure the backend actor is initialised with the authenticated Internet Identity principal so that all backend calls (profile fetch, content generation, subscription queries) are made on behalf of the logged-in user. Anonymous actor should be used only when no identity is available.",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Add Internet Identity authentication for customer accounts and preference saving",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}